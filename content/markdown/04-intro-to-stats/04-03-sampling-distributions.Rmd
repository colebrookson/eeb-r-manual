---
output:
  pdf_document: default
  html_document: default
---
# Sampling & Sampling Distributions
**Author:** Cole Brookson
**Date:** 29 August 2022

Sampling refers to the drawing of a subset of data points from some larger set (population). How we sample can be the subject of an entire course, but it is helpful to know enought to perform sampling in R, and then to compile those samples together into a *sampling distribution*. 

## Common Distributions

Before we go any further, let's remind ourselves of the shapes and names of some of the common distributions that we'll want to have fresh in our minds for this section. As another reminder, we need to be concious as to whether we're dealing with a *continuous* distribution or a *discrete* distribution. Here's a visual to remind us of this: 

![distributions. credit: Ashkay Sharma](img/distributions.png)

## Random vs. Pseudorandom

We often think of computers as being able to generate for us *random* samples of numbers. However, computer-generated random samples are never **truly** random, they are what is called **pseudorandom**. For a computer to sample a truly random number, they would need to use a *true* random number generator (TRNG), which relies on using some external physical variable such as airwave static to generate a *truly* random sample, since subatomic particles have truly random behaviour. 

Computers on their own have to approximate this with an algorithm. The methods that we use to do this are not important in this context, but it is a good thing to remember that computationally derrived random numbers (as we usually get from R) are not actually the same as mathematically random numbers, as the mathematical defintions used to define randomness in the purest sense are not computationally employable. 

So, in R, we will use *pseudorandom* number generators when we want to sample some numbers. 

## Random Sampling

So when we want to sample some set of numbers, we have to usually define what kind of distribution we want to draw from. When we ask R to randomly sample a number for us, we need to at least provide it with some guidelines about what kind of number we want. Do we want only integers? Decimals? If so, how many significant digits? What are the limits?

The way we would typically think about sampling in our brains is similar to the example of having a set of balls in a bag, all labeled with a unique number from 1-10. Assuming all else about the balls is equal, we could guess that there would be an equal probability we would draw any given ball from the bag. While this feels intuitive, this is actually thinking in distributions! We have actually just stated that we believe the distribution we are sampling from is **uniform**, that is, that all possible values have the same probability of being chosen. 

Contrast that with something like a Normal (Gaussian) distribution, and we will be more likely to select a value that lands closer to the center of the distribution, at the mean. 

## Random Sampling in R

It's actually quite easy to perform random sampling in R, given that it's a statistical programming language, the basic version of R that comes installed contains the `stats` package which includes random sampling function for a variety of distributions. Let's use an example with the normal distribution. Since the normal distribution takes two parameters, 1) a mean, and 2) a standard deviation, we need to provide those two parameters to the function, along with the number of samples we'd like to draw. 

```{r}
stats::rnorm(n = 10, mean = 5, sd = 1.5)
```

And we see R has selected our values for us. Often we want to be able to plot the distribution of values that we've sampled. That's most easily done as a simple histogram, using the `hist()` function which is in the `graphics` package: 

```{r}
graphics::hist(stats::rnorm(n = 10, mean = 5, sd = 1.5))
```

And we see we've approximated a normal distribution here. 

### Seeds and Reproducibility

When doing random number generation in R, it stands to reason that given how R goes about it's random number generation, if I write the above code to sample 10 data points in a script, run that code, and then come back in a few days and run it again, *I'll get a completely different set of points the next time*. We can see this in action here: 

```{r}
rnorm(10, mean = 0, sd = 1)
```
And again: 

```{r}
rnorm(10, mean = 0, sd = 1)
```

We see these are completely different sets of numbers! 

There are many situations where we might need to be able to re-run a set of random numbers and have them be the same values (e.g. debugging code, simulation studies, etc.). Well, if we recall that we actually are doing is using a *pseudorandom* number generator (PRNG), then we can use the concepts of **seeds** to help us. Whenever using a PRNG we need to "set a seed" which initializes the PRNG. The details of this aren't important here, but know that if we have a seed, we can predict what the PRNG will draw as pseudorandom numbers. Let's make an example. 

Say we want to draw 100 samples from a uniform (discrete) distribution. As a reminder, a uniform distribution with bounds at 0 and 10 looks like this: 

```{r, echo = FALSE}
hist(runif(10000000, min = 0, max = 10),
     ylab = "", xlab = "",
     main = "")
```

We'll explore the use of seeds by drawing 100 random samples from a uniform distribution with bounds at 0 and 10. We start by setting a seed and drawing our samples:

```{r}
# start by setting a seed
set.seed(1)
x <- runif(n = 100, min = 0, max = 10)
```

Now let's draw a new set of values: 

```{r}
y <- runif(n = 100, min = 0, max = 10)
```

We can see if these values are the same by using a boolean comparison: 

```{r}
all(x == y)
```

So the values drawn are NOT the same. But what happens if we re-employ the seed that we set previously? 

```{r}
set.seed(1)
z <- runif(n = 100, min = 0, max = 10)
```

Let's check if they're equivalent: 

```{r}
all(x == z)
```

So now we get a true! This is good to know! This means we can draw random samples in a *reproducible* manner, which can be incredibly useful. 

## Sampling Distributions

A sampling distribution refers to the probability distribution of a particular statistic that we might get from a random sample. To think about this we'll employ an example. 

### Sampling Distribution of Anolis Lizard Size

Anolis lizards (a genus of anoles) are a specious type of lizard that are widespread in the warmer parts of the Americas. They have a relatively wide size range, and we'll think about sampling distributions by *pretending* that we know the size of every single Anolis lizard in the worldwide population. Imagine the shape of that distribution looks like this: 

```{r}
x <- rnbinom(10000, 60, 0.8)
hist(x)
```

So the distribution is 








































