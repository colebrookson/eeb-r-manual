<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../css/stylesheet.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karma">
<link rel="stylesheet"
      href="../highlight/styles/default.min.css">
<script src="../highlight/highlight.js"></script>
<script src="../functions.js"></script>
<script>hljs.highlightAll();</script>
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif}
.w3-bar-block .w3-bar-item {padding:20px}
</style>
</head>
<body class="w3-round-large">

<!-- Top menu -->
<div class="w3-top">
    <div class="w3-navy w3-xlarge" 
    style="max-width:1300px;margin:auto;border:1px w3-gray"
    border:1px>
      <div class="w3-button w3-padding-16 w3-left" onclick="w3_open()" 
      style="margin-left:2em">☰</div>
      <div class="w3-right w3-padding-16" style="margin-right:2em">EEB</div>
      <div class="w3-center w3-padding-16">The R Manual</div>
    </div>
</div>

<!-- Sidebar (hidden by default) -->
<nav class="w3-sidebar w3-bar-block w3-card w3-top w3-xlarge w3-animate-left" 
style="display:none;z-index:2;width:40%;min-width:300px" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()"
  class="w3-bar-item w3-button">Close Menu</a>
  <a href="#about" onclick="w3_close()" class="w3-bar-item w3-button">About</a>
  <a href="#contact" onclick="w3_close()" 
  class="w3-bar-item w3-button">Contact</a>
</nav>

<main style = margin-top:100px>
    <nav class="section-nav">
        <ol>
          <li><a href="#str">Data Structures</a>
            <ul>
              <li class=""><a href="#str--vec">Vectors</a>
                <ul>
                  <li class=""><a href="#str--vec--atomic">Atomic Vectors</a></li>
                  <li class=""><a href="#str--vec--list">Lists</a></li>
                </ul></li>
                <li class=""><a href="#str--mat">Matrices</a></li>
                <li class=""><a href="#str--df">DataFrames</a></li>
            </ul>
          </li>
        </ol>
      </nav>
    <div>
      <section id="str">
        <h2>Data Structures</h2>
        <p>
          To make use of these individual pieces of data we combine them together into data <em>structures</em>. There are 4 main data structures that we work with consistently:
        </p>
        <ol type="I">
            <li><strong>Vectors</strong></li>
            <li><strong>Matrices</strong></li>
            <li><strong>DataFrames</strong></li>
            <li><strong>Arrays</strong></li>
        </ol>
        <p>
          This helpful graphic may help you cement these types in your memory
        </p>
        <img class="image-full-page" style="display:block;margin:auto"
        src="../img/01-img/data-structures.png">
        <section id="str--vec">
          <h3>Vectors</h3>
          <p>
            Vectors are subset into atomic vectors (collections of data of the same type) and lists (collections of different data types). Vectors are the workshorses of R and mosts other OOP languages use vectors or a very similar structure to hold data. From this point forward, we’ll use "vector" to refer to atomic vectors and call lists by name. We make vectors the same way we make variables, with an assignment statement.
          </p>
        </section>
        <section id="str--vec--atom">
          <h4>Atomic Vectors</h4>
          <p>
            Often we start by making an empty vector that we may decide to fill with values later. To do this, we use the <code>vector()</code> function.
          </p>
<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">x</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">vector</span><span class="hl std">(</span><span class="hl str">&quot;character&quot;</span><span class="hl std">,</span> <span class="hl kwc">length</span> <span class="hl std">=</span> <span class="hl num">5</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            Here, the function <code>vector()</code> takes two required arguments. the first argument asks for the data <em>type</em> we would like to use, and the second is the number of elements (the <em>length</em>) that we want the vector to be. 
          </p>
          <p>
            When we already know the content we want included, we can use a simpler <code>c()</code> function (<code>c</code> is short for <em>combine</em>). 
          </p>
<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">x</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            Here, R automatically understands what type of data we're using and since we passed four values, the length is automatically four. We could actually shorten this using R's <code>:</code> notation:
          </p>
<div class="chunk" id="unnamed-chunk-3"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">y</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            And we can check this works as expected:
          </p>
<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">x</span> <span class="hl opt">==</span> <span class="hl std">y</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] TRUE TRUE TRUE TRUE
</pre></div>
</div></div>
          <p>
            <strong>Note:</strong> One thing to understand is that previously when we assigned a variable a single data object (i.e. ), what we were actually doing is making a vector! This is just a special case vector of length 1. 
          </p>
          <p>
            We can determine what is and what is NOT an atomic vector with the following basic command <code>is.atomic()</code>. Recall that lists are <em>also</em> vectors, but not the kind we're working with now, so this checks if a vector is an atomic vector or not. 
          </p>
          <p>
            Vectors, especially string vectors, can change depending on how they're created. For example, here we have two vectors that spell out the same sentence, but are not equivalent:
          </p>
<div class="chunk" id="unnamed-chunk-5"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">x</span>  <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;The quick brown fox jumped over the lazy dog&quot;</span><span class="hl std">)</span>
  <span class="hl std">y</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;The&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;quick&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;brown&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;fox&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;jumped&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;over&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;the&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;lazy&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;dog&quot;</span><span class="hl std">)</span>
  <span class="hl std">x</span> <span class="hl opt">==</span> <span class="hl std">y</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
</pre></div>
</div></div>
          <p>
            We can see by checking the length of each that they lengths are not equivalent. The second vector <code>y</code> is actually made up of 9 individual data pieces, while <code>x</code> is a singular datum:
          </p>
<div class="chunk" id="unnamed-chunk-6"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl kwd">length</span><span class="hl std">(x)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 1
</pre></div>
<div class="source"><pre class="knitr r">  <span class="hl kwd">length</span><span class="hl std">(y)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 9
</pre></div>
</div></div>
          <p>
            Vectors are flexible in that we can bind them together easily:
          </p>
<div class="chunk" id="unnamed-chunk-7"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">x1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(x,</span> <span class="hl str">&quot;who was sunning himself&quot;</span><span class="hl std">)</span>
  <span class="hl std">y1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(y,</span> <span class="hl str">&quot;who&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;was&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;sunning&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;himself&quot;</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            and also simply edit components of them:
          </p>
<div class="chunk" id="unnamed-chunk-8"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">y[</span><span class="hl num">9</span><span class="hl std">]</span> <span class="hl kwb">&lt;-</span> <span class="hl str">&quot;cat&quot;</span>
  <span class="hl std">y</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;The&quot;    &quot;quick&quot;  &quot;brown&quot;  &quot;fox&quot;    &quot;jumped&quot; &quot;over&quot;   &quot;the&quot;    &quot;lazy&quot;  
## [9] &quot;cat&quot;
</pre></div>
</div></div>
          <p>
            <strong>Note:</strong> We can only do this here because we created each word as it's own data point inside the vector. The above is an example of <em>indexing</em> which we discuss elsewhere, but for now, it can be interpreted as selecting an element of the vector and changing it. 
          </p>
        </section>
        <section id="str--vec--list">
          <h4>Lists</h4>
          <p>
            Lists are the second type of vector we may want to use. They are more flexible in that they can contain multiple datatypes, whereas atomic vectors must all be of the same type. They are created much the same as vectors:
          </p>
<div class="chunk" id="unnamed-chunk-9"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">l</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl str">&quot;R is fun&quot;</span><span class="hl std">,</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">),</span> <span class="hl num">TRUE</span><span class="hl std">)</span>
  <span class="hl std">l</span>
</pre></div>
<div class="output"><pre class="knitr r">## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] &quot;R is fun&quot;
## 
## [[4]]
## [1] 1 2 3
## 
## [[5]]
## [1] TRUE
</pre></div>
</div></div>
          <p>
            Here we see a number of square brackets denoting the indexing of the list object <code>l</code>. This looks confusing but will be discussed in the <em>Indexing</em> section. 
          </p>
          <p>
            Instead of these numbers, we could name the list components. This is often handy for keeping data of variable lengths/types that can be related together. For example:
          </p>
<div class="chunk" id="unnamed-chunk-10"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">eeb_prof</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl str">&quot;name&quot;</span> <span class="hl std">=</span> <span class="hl str">&quot;Dr. Agrawal&quot;</span><span class="hl std">,</span>
        <span class="hl str">&quot;positions&quot;</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;Distinguished Professor of Evolutionary Genetics&quot;</span><span class="hl std">,</span>
                        <span class="hl str">&quot;Associate Chair, Graduate Studies&quot;</span><span class="hl std">),</span>
        <span class="hl str">&quot;concentrations&quot;</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;Genetics, Genomics &amp; Molecular Evolution&quot;</span><span class="hl std">,</span>
                              <span class="hl str">&quot;Theoretical &amp; Computational Biology&quot;</span><span class="hl std">))</span>

  <span class="hl std">eeb_prof</span>
</pre></div>
<div class="output"><pre class="knitr r">## $name
## [1] &quot;Dr. Agrawal&quot;
## 
## $positions
## [1] &quot;Distinguished Professor of Evolutionary Genetics&quot;
## [2] &quot;Associate Chair, Graduate Studies&quot;               
## 
## $concentrations
## [1] &quot;Genetics, Genomics &amp; Molecular Evolution&quot;
## [2] &quot;Theoretical &amp; Computational Biology&quot;
</pre></div>
</div></div>
          <p>
            We now see we have three named list components, each of which gives a different piece of information about the professor at hand. 
          </p>
          <p>
            We will not work much with lists here as their primary utility does not become apparent until more advanced types of computations are required. 
          </p>
        </section>
        <section id="str--mat">
          <h4>Matrices</h4>
          <p>
            Matrices are a logical extension of vectors as they can be thought of as a series of vectors bound together to form a 2D structure made up of rows and columns. Matrices have the same limit as a vector and must contain data of the same type (numeric or character). They are also constructed similarly:
          </p>
<div class="chunk" id="unnamed-chunk-11"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl kwc">nrow</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl kwc">ncol</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">)</span>
  <span class="hl std">m</span>
</pre></div>
<div class="output"><pre class="knitr r">##      [,1] [,2]
## [1,]   NA   NA
## [2,]   NA   NA
</pre></div>
</div></div>
          <p>
            This above is an empty matrix, we haven't told R to put anything in the matrix, but this empty matrix concept is used frequently to preallocate memory before being filled in later. We could make a matrix with some values like this:
          </p>
<div class="chunk" id="unnamed-chunk-12"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl num">100</span><span class="hl std">,</span> <span class="hl kwc">nrow</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl kwc">ncol</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            And this will make a matrix with four values of 100. Multiple values are possible as well: 
          </p>
<div class="chunk" id="unnamed-chunk-13"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">100</span><span class="hl std">,</span> <span class="hl num">200</span><span class="hl std">,</span> <span class="hl num">300</span><span class="hl std">,</span> <span class="hl num">400</span><span class="hl std">),</span> <span class="hl kwc">nrow</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl kwc">ncol</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            Here we passed an atomic vector as the first argument to <code>matrix()</code>, and then the dimensions that we wanted to get for our matrix. Note that if the dimensions specified are not filled by the vector passed, an error will occur: 
          </p>
<div class="chunk" id="unnamed-chunk-14"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">matrix</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">100</span><span class="hl std">,</span> <span class="hl num">200</span><span class="hl std">,</span> <span class="hl num">300</span><span class="hl std">,</span> <span class="hl num">400</span><span class="hl std">),</span> <span class="hl kwc">nrow</span> <span class="hl std">=</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl kwc">ncol</span> <span class="hl std">=</span> <span class="hl num">2</span><span class="hl std">)</span>
</pre></div>
<div class="warning"><pre class="knitr r">## Warning in matrix(c(100, 200, 300, 400), nrow = 3, ncol = 2): data length [4] is
## not a sub-multiple or multiple of the number of rows [3]
</pre></div>
</div></div>
          <p>
            We can also make matrices by combining existing vectors. Let's make two vectors and combine them into a matrix using two different approaches: 
          </p>
<div class="chunk" id="unnamed-chunk-15"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">vec1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">)</span>
  <span class="hl std">vec2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
</div></div>
          <p>
            First, if I want <code>vec1</code> to be the first row and <code>vec2</code> to be the second row, I simply need to bind them together as <em>rows</em> with the aptly named <code>rbind()</code> function:
          </p>
<div class="chunk" id="unnamed-chunk-16"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rbind</span><span class="hl std">(vec1, vec2)</span>
  <span class="hl std">m1</span>
</pre></div>
<div class="output"><pre class="knitr r">##      [,1] [,2]
## vec1    1    2
## vec2    3    4
</pre></div>
</div></div>
          <p>
            If instead I wanted <code>vec1</code> to be the first column and <code>vec2</code> to be the second column, I would bind them together as <em>columns</em> using the <code>cbind()</code> function:
          </p>
<div class="chunk" id="unnamed-chunk-17"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">m2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">cbind</span><span class="hl std">(vec1, vec2)</span>
  <span class="hl std">m2</span>
</pre></div>
<div class="output"><pre class="knitr r">##      vec1 vec2
## [1,]    1    3
## [2,]    2    4
</pre></div>
</div></div>
        </section>
        <section id="str--df">
          <h4>DataFrames</h4>
          <p>
            The darlings of R. These structures are the feature of R that make it so popular for data analysis and statistics. It is the easiest way to store, access, and perform operations on tabular data (the type of data we most often have in biology). Dataframes are actually a type of list, one wherein each element of the list has the same length, making it of dimension 2, which means we easily can look at rows and columns. They’re usually created directly by reading in data (we’ll get to this shortly), or by creation through the <code>data.frame</code> command:
          </p>
<div class="chunk" id="unnamed-chunk-18"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">c1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">4</span><span class="hl std">)</span>
  <span class="hl std">c2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;item1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item3&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item4&quot;</span><span class="hl std">)</span>
  <span class="hl std">c3</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">11</span><span class="hl opt">:</span><span class="hl num">14</span><span class="hl std">)</span>

  <span class="hl com"># we can combine these values as columns into a dataframe</span>
  <span class="hl std">d</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">data.frame</span><span class="hl std">(c1, c2, c3)</span>
  <span class="hl std">d</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3
## 1  1 item1 11
## 2  2 item2 12
## 3  3 item3 13
## 4  4 item4 14
</pre></div>
</div></div>
          <p>
            It's easy to add rows or columns using row binding:
          </p>
<div class="chunk" id="unnamed-chunk-19"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">c4</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;add1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;add2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;add3&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;add4&quot;</span><span class="hl std">)</span>
  <span class="hl std">d1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">cbind</span><span class="hl std">(d, c4)</span>
  <span class="hl std">d1</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3   c4
## 1  1 item1 11 add1
## 2  2 item2 12 add2
## 3  3 item3 13 add3
## 4  4 item4 14 add4
</pre></div>
</div></div>
          <p>
            Or column binding:
          </p>
<div class="chunk" id="unnamed-chunk-20"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">r5</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl num">5L</span><span class="hl std">,</span> <span class="hl str">&quot;item5&quot;</span><span class="hl std">,</span> <span class="hl num">15L</span><span class="hl std">,</span> <span class="hl str">&quot;add5&quot;</span><span class="hl std">)</span>
  <span class="hl std">d2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rbind</span><span class="hl std">(d1, r5)</span>
  <span class="hl std">d2</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3   c4
## 1  1 item1 11 add1
## 2  2 item2 12 add2
## 3  3 item3 13 add3
## 4  4 item4 14 add4
## 5  5 item5 15 add5
</pre></div>
</div></div>
          <p>
            Notice above to create row 5, we used <code>list()</code> instead of <code>c()</code>. Why? Recall that <code>c()</code> only works for atomic vectors, so if we used the same arguments but the command <code>c()</code>, R would think we wanted an atomic vector, so would actually change our integer values to characters. Let's look at it:
          </p>
<div class="chunk" id="unnamed-chunk-21"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">r5</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">5L</span><span class="hl std">,</span> <span class="hl str">&quot;item5&quot;</span><span class="hl std">,</span> <span class="hl num">15L</span><span class="hl std">,</span> <span class="hl str">&quot;add5&quot;</span><span class="hl std">)</span>
  <span class="hl kwd">str</span><span class="hl std">(r5)</span>
</pre></div>
<div class="output"><pre class="knitr r">##  chr [1:4] &quot;5&quot; &quot;item5&quot; &quot;15&quot; &quot;add5&quot;
</pre></div>
</div></div>
          <p>
            We can see all the values of <code>r5</code> are now characters. Also, notice above that we force integer type with the <code>L</code> following the number. Why? Well when using <code>list()</code>, if we just pass the number 3, <code>list()</code> would interpret that as a numeric type, and when  we bound it to the dataframe, because each column must only have one type, to fix the fact that some values would be integers and some numerics, R would go behind the scenes and change the type of those columns to numerics. Let's see:
          </p>
<div class="chunk" id="unnamed-chunk-22"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">r5</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">list</span><span class="hl std">(</span><span class="hl num">5</span><span class="hl std">,</span> <span class="hl str">&quot;item5&quot;</span><span class="hl std">,</span> <span class="hl num">15</span><span class="hl std">,</span> <span class="hl str">&quot;add5&quot;</span><span class="hl std">)</span>
  <span class="hl kwd">str</span><span class="hl std">(r5)</span>
</pre></div>
<div class="output"><pre class="knitr r">## List of 4
##  $ : num 5
##  $ : chr &quot;item5&quot;
##  $ : num 15
##  $ : chr &quot;add5&quot;
</pre></div>
</div></div>
          <p>
            Note that the first and third elements now have type <code>num</code> instead of type <code>int</code>!
          </p>
<div class="chunk" id="unnamed-chunk-23"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">d3</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rbind</span><span class="hl std">(d1, r5)</span>
  <span class="hl std">d3</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3   c4
## 1  1 item1 11 add1
## 2  2 item2 12 add2
## 3  3 item3 13 add3
## 4  4 item4 14 add4
## 5  5 item5 15 add5
</pre></div>
</div></div>
          <p>
            Now we can see in the output that columns <code>c1</code> and <code>c2</code> have type <code><dbl></code> which we recall from Data Types are equivalent. This isn't a big deal, but something to be aware of in case we really needed <code>c1</code> and <code>c2</code> to be integers. 
          </p>
          <p>
            Dataframes are ultra-flexible, and have a lot of underlying structure. The best way to inspect this structure is with the <code>str()</code> command:
          </p>
<div class="chunk" id="unnamed-chunk-24"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl kwd">str</span><span class="hl std">(d2)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 'data.frame':	5 obs. of  4 variables:
##  $ c1: int  1 2 3 4 5
##  $ c2: chr  &quot;item1&quot; &quot;item2&quot; &quot;item3&quot; &quot;item4&quot; ...
##  $ c3: int  11 12 13 14 15
##  $ c4: chr  &quot;add1&quot; &quot;add2&quot; &quot;add3&quot; &quot;add4&quot; ...
</pre></div>
</div></div>
            <p>
              We can also get the column names of a dataframe,
            </p>
<div class="chunk" id="unnamed-chunk-25"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl kwd">names</span><span class="hl std">(d2)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] &quot;c1&quot; &quot;c2&quot; &quot;c3&quot; &quot;c4&quot;
</pre></div>
</div></div>
            <p>
              the number of rows or columns,
            </p>
<div class="chunk" id="unnamed-chunk-26"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl kwd">nrow</span><span class="hl std">(d2)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5
</pre></div>
<div class="source"><pre class="knitr r">  <span class="hl kwd">ncol</span><span class="hl std">(d2)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4
</pre></div>
</div></div>
            <p>
              or a summary of the dataframe,
            </p>
<div class="chunk" id="unnamed-chunk-27"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl kwd">summary</span><span class="hl std">(d2)</span>
</pre></div>
<div class="output"><pre class="knitr r">##        c1         c2                  c3          c4           
##  Min.   :1   Length:5           Min.   :11   Length:5          
##  1st Qu.:2   Class :character   1st Qu.:12   Class :character  
##  Median :3   Mode  :character   Median :13   Mode  :character  
##  Mean   :3                      Mean   :13                     
##  3rd Qu.:4                      3rd Qu.:14                     
##  Max.   :5                      Max.   :15
</pre></div>
</div></div>
            <p>
              For the integer columns, we get a very helpful summary of the values in the column. 
            </p>
            <section id="str--df--fac">
              <h5>Factors</h5>
              <p>
                We will briefly discuss factors here as their most common use is as columns in dataframes. Factors are variables which can only take on a certain number of values (aka "levels"). They are often referred to as the "categorical" variables of R. They are of special importance in statistical modelling since categorical variables enter into statistical models in a different way than continuous variables may do. 
              </p>
              <p>
                Similar to other datatypes, they can be created with their own function:
              </p>
<div class="chunk" id="unnamed-chunk-28"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">fac</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;one&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;three&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;four&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;one&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;three&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;four&quot;</span><span class="hl std">))</span>
  <span class="hl std">fac</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] one   two   three four  one   two   three four 
## Levels: four one three two
</pre></div>
</div></div>
              <p>
                The output here shows the values we passed (those within the <code>c()</code> function), but the levels aren't maybe what we'd expect. We passed what we know to be numbers, but R can't actually tell that, it just knows they are string values, so has sorted them alphabetically. We can control the <em>order</em> of factors with an additional argument to the function <code>factor()</code>:
              </p>
<div class="chunk" id="unnamed-chunk-29"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">fac1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;one&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;three&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;four&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;one&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;three&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;four&quot;</span><span class="hl std">),</span>
                <span class="hl kwc">levels</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;one&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;two&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;three&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;four&quot;</span><span class="hl std">))</span>
  <span class="hl std">fac1</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] one   two   three four  one   two   three four 
## Levels: one two three four
</pre></div>
</div></div>
              <p>
                Now the levels are in a more logical order. 
              </p>
              <p>
                Factors are most commonly used in dataframes, so let's change one of our <code>chr</code> variables in a dataframe we've already made to a <code>factor</code>. 
              </p>
<div class="chunk" id="unnamed-chunk-30"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">d</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3
## 1  1 item1 11
## 2  2 item2 12
## 3  3 item3 13
## 4  4 item4 14
</pre></div>
</div></div>
              <p>
                Currently <code>d2</code> has <code>c2</code> column of type <code>chr</code>, but let's make it a factor. We could do this by changing the way we define <code>c2</code> originally like this:
              </p>
<div class="chunk" id="unnamed-chunk-31"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">c1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">4</span><span class="hl std">)</span>
  <span class="hl std">c2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;item1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item3&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item4&quot;</span><span class="hl std">))</span>
  <span class="hl std">c3</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">11</span><span class="hl opt">:</span><span class="hl num">14</span><span class="hl std">)</span>

  <span class="hl com"># we can combine these values as columns into a dataframe</span>
  <span class="hl std">d</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">data.frame</span><span class="hl std">(c1, c2, c3)</span>
  <span class="hl std">d</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3
## 1  1 item1 11
## 2  2 item2 12
## 3  3 item3 13
## 4  4 item4 14
</pre></div>
</div></div>
              <p>
                But often we want to perform "in-place" operations to dataframes already created, so let's create the dataframe as before then once created, only re-create that one column:
              </p>
<div class="chunk" id="unnamed-chunk-32"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">c1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl opt">:</span><span class="hl num">4</span><span class="hl std">)</span>
  <span class="hl std">c2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;item1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item3&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;item4&quot;</span><span class="hl std">)</span>
  <span class="hl std">c3</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">11</span><span class="hl opt">:</span><span class="hl num">14</span><span class="hl std">)</span>

  <span class="hl com"># we can combine these values as columns into a dataframe</span>
  <span class="hl std">d</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">data.frame</span><span class="hl std">(c1, c2, c3)</span>
  <span class="hl std">d</span>
</pre></div>
<div class="output"><pre class="knitr r">##   c1    c2 c3
## 1  1 item1 11
## 2  2 item2 12
## 3  3 item3 13
## 4  4 item4 14
</pre></div>
</div></div>
              <p>
                So currently it's a <code>chr</code>, but we can <em>index</em> our column of interest by name, using the <code>$</code> operator, and perform the change this way. To change the column to a factor we again can use the <code>factor()</code> column: 
              </p>
<div class="chunk" id="unnamed-chunk-33"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">d</span><span class="hl opt">$</span><span class="hl std">c2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">factor</span><span class="hl std">(d</span><span class="hl opt">$</span><span class="hl std">c2)</span>
  <span class="hl kwd">str</span><span class="hl std">(d)</span>
</pre></div>
<div class="output"><pre class="knitr r">## 'data.frame':	4 obs. of  3 variables:
##  $ c1: int  1 2 3 4
##  $ c2: Factor w/ 4 levels &quot;item1&quot;,&quot;item2&quot;,..: 1 2 3 4
##  $ c3: int  11 12 13 14
</pre></div>
</div></div>
              <p>
                Now we can see the output has <code>c2</code> as a column. More on indexing <a href="01-04-indexing.html">here</a>.
              </p>
            </section>
        </section>
        <section id="str--array">
          <h4>Arrays</h4>
          <p>
            Last we'll go over some arrays. Arrays are very useful but can be difficult to visualize since they can store data in >2 dimensions, but let's just focus on 3-dimensional arrays for now. Again, we can create an array with the <code>array()</code> function, combining multiple vectors. 

          </p>
<div class="chunk" id="unnamed-chunk-34"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">vec1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">)</span>
  <span class="hl std">vec2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">4</span><span class="hl std">,</span> <span class="hl num">5</span><span class="hl std">,</span> <span class="hl num">6</span><span class="hl std">)</span>
  <span class="hl std">vec3</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">7</span><span class="hl std">,</span> <span class="hl num">8</span><span class="hl std">,</span> <span class="hl num">9</span><span class="hl std">)</span>
  <span class="hl std">ar1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">array</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(vec1, vec2, vec3),</span> <span class="hl kwc">dim</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">))</span>
  <span class="hl std">ar1</span>
</pre></div>
<div class="output"><pre class="knitr r">## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
</pre></div>
</div></div>
          <p>
            We can read the <code>dims</code> argument just as we would order mathematical dimensions, always starting with <code>x</code> the first dimension, `y`, the second, and then <code>z</code> the third one. So we can think of this as having three rows (the <code>x</code> coordinate), and three columns (the <code>y</code> coordinate), which make up a single matrix in each of the two <code>z</code> dimensions. It's helpful to visualize this: 
          </p>
          <img class="image-full-page" style="display:block;margin:auto"
          src="../img/01-img/arrays.png">
          <p>
            It's often helpful to name each of our columns, rows, and matrices. To do this for the above array we might do the following: 
          </p>
<div class="chunk" id="unnamed-chunk-35"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl std">row_names</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;row1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;row2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;row3&quot;</span><span class="hl std">)</span>
  <span class="hl std">col_names</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;col1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;col2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;col3&quot;</span><span class="hl std">)</span>
  <span class="hl std">mat_names</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;mat1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;mat2&quot;</span><span class="hl std">)</span>

  <span class="hl com"># now remake the array with the names</span>
  <span class="hl std">ar_named</span> <span class="hl kwb">=</span> <span class="hl kwd">array</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(vec1, vec2, vec3),</span> <span class="hl kwc">dim</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">2</span><span class="hl std">),</span>
                  <span class="hl kwc">dimnames</span> <span class="hl std">=</span> <span class="hl kwd">list</span><span class="hl std">(row_names, col_names, mat_names))</span>
  <span class="hl std">ar_named</span>
</pre></div>
<div class="output"><pre class="knitr r">## , , mat1
## 
##      col1 col2 col3
## row1    1    4    7
## row2    2    5    8
## row3    3    6    9
## 
## , , mat2
## 
##      col1 col2 col3
## row1    1    4    7
## row2    2    5    8
## row3    3    6    9
</pre></div>
</div></div>
          <p>
            With the rows, columns, and matrices now named it's easier to refer to them. 
          </p>
        </section>
        </section>
<!-- End page content -->
<hr>
<p style="font-size:10px;color:gray;text-align:center">
    <br>
    <br>
    The EEB R Manual is the work of researchers at the University of the Toronto
     and intended as a purely educational resource. It holds no official 
    association with the R Foundation. It should not be taken as an
     authority on R best practices. 
    <br>
    When using this resource, <bold>always</bold> default to instructions and 
    guidance provided by your instructor. 
    <br>
    This content is reviewed regularly for errors and to make improvements, if you see an error and want to help us make this better, see the Contact Page
</p>
</div>

<script>
// Script to open and close sidebar
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
}
 
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}
</script>
</main>

</body>
</html>
